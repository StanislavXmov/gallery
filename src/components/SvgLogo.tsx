import { useEffect, useRef } from 'react';

const SvgLogo = () => {
  const svg = useRef<SVGSVGElement>(null);
  const path1 = useRef<SVGPathElement>(null);
  const path2 = useRef<SVGPathElement>(null);

  const scrolHandler = () => {
    if (svg.current && path1.current && path2.current) {
      const distance = window.scrollY;
      const totalDistance = svg.current.clientHeight;
      const percentage = distance / totalDistance || 0;
      const path1Length = path1.current.getTotalLength();
      const path2Length = path1.current.getTotalLength();   
      
      path1.current.style.strokeDasharray = `${path1Length}`;
      path1.current.style.strokeDashoffset = `${path1Length * (1 - percentage)}`;

      path2.current.style.strokeDasharray = `${path2Length}`;
      path2.current.style.strokeDashoffset = `${path2Length * (1 - percentage * 0.8)}`;
    }
  };

  useEffect(() => {
    if (svg.current) {
      svg.current.classList.remove('opacity-0')
    }
    scrolHandler();
    window.addEventListener('scroll', scrolHandler);

    return () => {
      window.removeEventListener('scroll', scrolHandler);
    }
  }, []);


  return (
    <svg ref={svg} className='absolute top-0 left-0 w-full lg:h-[100vh] sm:h-[50vh] h-[0vh] flex -z-10 opacity-0' width="1018" height="962" viewBox="0 0 1018 962" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path ref={path1} d="M321.498 18.5818C321.498 18.5818 285.867 85.845 259.538 142.626M259.538 142.626C255.446 151.451 251.579 160.023 248.105 168.05C245.97 172.985 243.798 178.139 241.608 183.456M259.538 142.626L414.306 140.929C414.306 140.929 392.481 178.285 365.276 214.32M259.538 142.626L203.783 143.238L18.9722 173.139C18.9722 173.139 146.682 168.826 227.062 181.017C231.767 181.73 236.629 182.549 241.608 183.456M241.608 183.456C213.308 252.147 181.814 347.891 181.814 347.891C181.814 347.891 278.589 304.138 327.017 258.421C339.865 246.291 353.109 230.438 365.276 214.32M241.608 183.456C282.595 190.92 331.465 204.355 365.276 214.32M365.276 214.32C389.744 221.532 406.325 226.927 406.325 226.927L315.746 433.316L501.895 330.198C501.895 330.198 451.805 423.535 426.881 486.457C405.462 540.529 380.516 627.958 380.516 627.958L580.608 481.501L481.129 687.582L599.961 679.054M599.961 679.054L603.466 678.802C603.466 678.802 591.752 690.483 577.955 707.777M599.961 679.054C629.423 650.727 672.429 630.518 672.429 630.518C672.429 630.518 717.35 661.52 735.339 690.208C736.852 692.621 738.284 695.192 739.638 697.886M599.961 679.054C591.448 687.239 584.065 696.102 579.178 705.351C578.759 706.144 578.351 706.953 577.955 707.777M577.955 707.777C551.612 740.795 517.677 794.275 543.182 825.984C575.871 866.626 626.034 846.565 676.449 832.408M577.955 707.777C561.108 742.779 564.555 804.128 564.555 804.128C564.555 804.128 649.887 764.487 698.906 730.031C711.824 720.951 725.877 709.661 739.638 697.886M676.449 832.408C677.658 832.069 678.866 831.733 680.075 831.401C714.623 821.921 761.816 789.721 761.816 789.721C761.816 789.721 758.51 747.432 746.119 713.149M676.449 832.408C685.182 812.523 694.688 792.575 704.057 776.084C715.347 756.21 730.538 734.138 746.119 713.149M676.449 832.408C655.852 879.31 639.564 925.86 639.564 925.86C639.564 925.86 752.473 879.317 827.795 859.103C889.434 842.561 988.011 826.983 988.011 826.983M746.119 713.149C744.187 707.803 742.034 702.652 739.638 697.886M746.119 713.149C780.725 666.53 817.257 625.253 817.257 625.253C817.257 625.253 779.679 663.624 739.638 697.886" stroke="#F051AE" strokeWidth="36" strokeLinecap="round" strokeLinejoin="round"/>
    <path ref={path2} d="M333.026 37.29C333.026 37.29 297.375 104.522 271.03 161.276M271.03 161.276C266.935 170.097 263.066 178.664 259.589 186.687C257.452 191.62 255.279 196.772 253.087 202.085M271.03 161.276L425.758 159.515C425.758 159.515 403.923 196.854 376.71 232.877M271.03 161.276L215.289 161.91L30.5132 191.869C30.5132 191.869 158.192 187.505 238.546 199.654C243.249 200.365 248.11 201.181 253.087 202.085M253.087 202.085C224.766 270.742 193.24 366.433 193.24 366.433C193.24 366.433 290.008 322.67 338.442 276.963C351.292 264.837 364.539 248.989 376.71 232.877M253.087 202.085C294.06 209.527 342.912 222.933 376.71 232.877M376.71 232.877C401.169 240.074 417.743 245.457 417.743 245.457L327.101 451.745L513.246 348.618C513.246 348.618 463.129 441.913 438.185 504.803C416.749 558.847 391.773 646.227 391.773 646.227L591.874 499.785L492.335 705.768L611.14 697.196M611.14 697.196L614.644 696.943C614.644 696.943 602.928 708.62 589.127 725.908M611.14 697.196C640.606 668.876 683.609 648.662 683.609 648.662C683.609 648.662 728.506 679.625 746.478 708.285C747.99 710.696 749.42 713.265 750.773 715.956M611.14 697.196C602.625 705.379 595.241 714.239 590.351 723.483C589.932 724.276 589.524 725.085 589.127 725.908M589.127 725.908C562.778 758.915 528.829 812.373 554.314 844.05C586.978 884.65 637.136 864.582 687.544 850.414M589.127 725.908C572.27 760.894 575.691 822.2 575.691 822.2C575.691 822.2 661.017 782.55 710.038 748.097C722.957 739.017 737.01 727.729 750.773 715.956M687.544 850.414C688.752 850.074 689.96 849.738 691.169 849.406C725.712 839.917 772.907 807.72 772.907 807.72C772.907 807.72 769.619 765.461 757.246 731.206M687.544 850.414C696.282 830.539 705.795 810.6 715.168 794.117C726.464 774.251 741.66 752.187 757.246 731.206M687.544 850.414C666.933 897.292 650.629 943.817 650.629 943.817C650.629 943.817 763.529 897.259 838.839 877.027C900.469 860.471 999.028 844.861 999.028 844.861M757.246 731.206C755.316 725.865 753.166 720.718 750.773 715.956M757.246 731.206C791.863 684.605 828.402 643.341 828.402 643.341C828.402 643.341 790.818 681.701 750.773 715.956" stroke="#C4FF79" strokeWidth="36" strokeLinecap="round" strokeLinejoin="round"/>
    </svg>
    
  );
}

export default SvgLogo;